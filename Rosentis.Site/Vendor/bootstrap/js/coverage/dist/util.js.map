{"version":3,"file":"util.js","sources":["../../src/util.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.3.1): util.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n/**\n * ------------------------------------------------------------------------\n * Private TransitionEnd Helpers\n * ------------------------------------------------------------------------\n */\n\nconst MAX_UID = 1000000\nconst MILLISECONDS_MULTIPLIER = 1000\n\n// Shoutout AngusCroll (https://goo.gl/pxwQGp)\nfunction toType(obj) {\n  return {}.toString.call(obj).match(/\\s([a-z]+)/i)[1].toLowerCase()\n}\n\n/**\n * --------------------------------------------------------------------------\n * Public Util Api\n * --------------------------------------------------------------------------\n */\n\nconst Util = {\n  TRANSITION_END: 'transitionend',\n\n  getUID(prefix) {\n    do {\n      // eslint-disable-next-line no-bitwise\n      prefix += ~~(Math.random() * MAX_UID) // \"~~\" acts like a faster Math.floor() here\n    } while (document.getElementById(prefix))\n    return prefix\n  },\n\n  getSelectorFromElement(element) {\n    let selector = element.getAttribute('data-target')\n\n    if (!selector || selector === '#') {\n      const hrefAttr = element.getAttribute('href')\n      selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : ''\n    }\n\n    try {\n      return document.querySelector(selector) ? selector : null\n    } catch (err) {\n      return null\n    }\n  },\n\n  getTransitionDurationFromElement(element) {\n    if (!element) {\n      return 0\n    }\n\n    // Get transition-duration of the element\n    let transitionDuration = window.getComputedStyle(element).transitionDuration\n    let transitionDelay = window.getComputedStyle(element).transitionDelay\n\n    const floatTransitionDuration = parseFloat(transitionDuration)\n    const floatTransitionDelay = parseFloat(transitionDelay)\n\n    // Return 0 if element or transition duration is not found\n    if (!floatTransitionDuration && !floatTransitionDelay) {\n      return 0\n    }\n\n    // If multiple durations are defined, take the first\n    transitionDuration = transitionDuration.split(',')[0]\n    transitionDelay = transitionDelay.split(',')[0]\n\n    return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER\n  },\n\n  reflow(element) {\n    return element.offsetHeight\n  },\n\n  triggerTransitionEnd(element) {\n    element.dispatchEvent(new Event(Util.TRANSITION_END))\n  },\n\n  isElement(obj) {\n    return (obj[0] || obj).nodeType\n  },\n\n  emulateTransitionEnd(element, duration) {\n    let called = false\n    const durationPadding = 5\n    const emulatedDuration = duration + durationPadding\n    function listener() {\n      called = true\n      element.removeEventListener(Util.TRANSITION_END, listener)\n    }\n\n    element.addEventListener(Util.TRANSITION_END, listener)\n    setTimeout(() => {\n      if (!called) {\n        Util.triggerTransitionEnd(element)\n      }\n    }, emulatedDuration)\n  },\n\n  typeCheckConfig(componentName, config, configTypes) {\n    for (const property in configTypes) {\n      if (Object.prototype.hasOwnProperty.call(configTypes, property)) {\n        const expectedTypes = configTypes[property]\n        const value         = config[property]\n        const valueType     = value && Util.isElement(value)\n          ? 'element' : toType(value)\n\n        if (!new RegExp(expectedTypes).test(valueType)) {\n          throw new Error(\n            `${componentName.toUpperCase()}: ` +\n            `Option \"${property}\" provided type \"${valueType}\" ` +\n            `but expected type \"${expectedTypes}\".`)\n        }\n      }\n    }\n  },\n\n  makeArray(nodeList) {\n    if (!nodeList) {\n      return []\n    }\n\n    return [].slice.call(nodeList)\n  },\n\n  isVisible(element) {\n    if (!element) {\n      return false\n    }\n\n    if (element.style !== null && element.parentNode !== null && typeof element.parentNode.style !== 'undefined') {\n      return element.style.display !== 'none' &&\n        element.parentNode.style.display !== 'none' &&\n        element.style.visibility !== 'hidden'\n    }\n    return false\n  },\n\n  findShadowRoot(element) {\n    if (!document.documentElement.attachShadow) {\n      return null\n    }\n\n    // Can find the shadow root otherwise it'll return the document\n    if (typeof element.getRootNode === 'function') {\n      const root = element.getRootNode()\n      return root instanceof ShadowRoot ? root : null\n    }\n\n    if (element instanceof ShadowRoot) {\n      return element\n    }\n\n    // when we don't find a shadow root\n    if (!element.parentNode) {\n      return null\n    }\n\n    return Util.findShadowRoot(element.parentNode)\n  },\n\n  noop() {\n    // eslint-disable-next-line no-empty-function\n    return function () {}\n  },\n\n  get jQuery() {\n    return window.jQuery\n  }\n}\n\nexport default Util\n"],"names":["MAX_UID","MILLISECONDS_MULTIPLIER","toType","obj","toString","call","match","toLowerCase","Util","TRANSITION_END","getUID","prefix","Math","random","document","getElementById","getSelectorFromElement","element","selector","getAttribute","hrefAttr","trim","querySelector","err","getTransitionDurationFromElement","transitionDuration","window","getComputedStyle","transitionDelay","floatTransitionDuration","parseFloat","floatTransitionDelay","split","reflow","offsetHeight","triggerTransitionEnd","dispatchEvent","Event","isElement","nodeType","emulateTransitionEnd","duration","called","durationPadding","emulatedDuration","listener","removeEventListener","addEventListener","setTimeout","typeCheckConfig","componentName","config","configTypes","property","Object","prototype","hasOwnProperty","expectedTypes","value","valueType","RegExp","test","Error","toUpperCase","makeArray","nodeList","slice","isVisible","style","parentNode","display","visibility","findShadowRoot","documentElement","attachShadow","getRootNode","root","ShadowRoot","noop","jQuery"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}